#!/usr/bin/env sh
# Prints the [n] most used commands based on the shell's history file where [n]
# is an optional argument (default: 10).

if [ -z "$HISTFILE" ]; then
	echo 'could not locate shell history file, $HISTFILE is undefined' >&2
	exit 1
fi

if [ $# -eq 0 ]; then
	lines=10
else
	lines=$(($1))
fi

echo '$'
awk '{print $1}' < "$HISTFILE" | sort | uniq -c | sort -rn | head -n $lines
echo 'sudo:'
grep --text '^sudo' "$HISTFILE" | awk '{print $2}' | sort | uniq -c | sort -rn | head -n $lines

# pipe into nl for line numbering
