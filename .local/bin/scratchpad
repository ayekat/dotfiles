#!/bin/sh
# Creates a new window titled "Scratchpad" that almost covers the screen, with
# some gap at the border. See the dwm config for how to use it.
# Written by ayekat in february 2013


# gap to screen edge
SIZE_BAR=15
if [ $HOSTNAME = 'phobia' ]; then
	MARGIN=40
else
	MARGIN=20
fi

# terminal information:
FWIDTH=6     # font glyph width
FHEIGHT=13   # font glyph height
PADDING=1    # terminal padding
BORDER=1     # terminal border width

# screen resolution:
res=$(xrandr | grep '*' | head -n 1 | cut -c 4-12)
xres=$(echo $res | sed 's/x[0-9]*//g')
yres=$(echo $res | sed 's/[0-9]*x//g')

# calculate window dimension:
xgres=$(($(($xres-2*$MARGIN-2*$BORDER-2*$PADDING))/$FWIDTH))
ygres=$(($(($yres-2*$MARGIN-$SIZE_BAR-2*$BORDER-2*$PADDING))/$FHEIGHT))

roxterm --title=Scratchpad \
		--geometry=$(($xgres))x$ygres+$MARGIN+$(($MARGIN+$SIZE_BAR)) -e tmx 0

