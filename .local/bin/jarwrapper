#!/bin/sh
# This file takes a java JAR file name as an argument and runs it if it's
# located in the 'jars' directory.
# Written by ayekat on a stressed sunday afternoon in october 2013.

jardir="$0".d

jarwrapper_run() {
	if [ ! -f "$jardir"/"$1" ]; then
		printf "could not find corresponding jarfile '%s' in %s\n" \
				"$1" "$jardir" >&2
		exit 1
	fi

	java -jar "$jardir"/"$1" "$@"
}

jarwrapper_help() {
	printf "Usage: %s \033[4mjarfile\033[0m " "$(basename "$0")"
	printf "[\033[4marguments\033[0m ...]\n"
}

if [ $# -eq 0 ]; then
	jarwrapper_help
	exit 2
fi

jarwrapper_run "$@"

